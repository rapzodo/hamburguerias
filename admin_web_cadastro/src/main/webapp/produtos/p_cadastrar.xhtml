<!DOCTYPE XHTML>

<ui:fragment xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:b="http://bootsfaces.net/ui" xmlns:p="http://primefaces.org/ui">
	<ui:composition template="/principal_template.xhtml">
		<ui:define name="content">
			<h:form enctype="multipart/form-data">
				<b:panel title="Cadastro de #{msg.produtos}" collapsible="false"
					style="width:auto; margin: 0 auto">
					<b:panelGrid id="inputGrid" colSpans="12">
						<b:selectOneMenu label="#{msg.categoria}"
							value="#{menuMBean.categoria.descricao}" span="4"
							required="true">
							<f:facet name="prepend">
								<b:iconAwesome name="reorder" addon="true" />
							</f:facet>
							<f:selectItem itemValue="" itemLabel="Selecionar"></f:selectItem>
							<f:selectItems value="#{appMBean.categoria}" />
						</b:selectOneMenu>
						<b:inputText label="Nome" renderLabel="true" id="nome"
							value="#{menuMBean.model.nome}" placeholder="ex.: Da Casa"
							required="true" span="4" />
						<b:inputText label="Preço" renderLabel="true" id="preco"
							value="#{menuMBean.model.preco}" tooltip-position="bottom"
							span="2" required="true">
							<f:facet name="prepend">
								<h:outputText value="R$" />
							</f:facet>
						</b:inputText>
						<b:inputTextarea label="Descrição" renderLabel="true" id="desc"
							required="@previous != null" value="#{menuMBean.model.descricao}"
							placeholder="ex: Feito com carne de Angus..." span="12" />
						<b:well>
							<p:fileUpload sizeLimit="#{msg.file_size_limit}"
								value="#{menuMBean.foto}" label="Foto" update="msgs"
								mode="simple" fileUploadListener="#{menuMBean.enviaFoto}"
								skinSimple="true" />
							<p:growl showDetail="true" showSummary="true" autoUpdate="true"
								severity="info" />
							<b:messages id="msgs"></b:messages>
						</b:well>
						<p:separator />
						<b:row>
							<b:column span="3">
							</b:column>
							<b:column span="3">
								<b:commandButton value="#{msg.enviar}" look="success"
									type="submit" action="#{menuMBean.cadastra()}"
									iconAwesome="save" size="lg" update="@form" />
							</b:column>
							<b:column span="3">
								<b:commandButton value="Limpar" type="reset" look="danger"
									size="lg" iconAwesome="eraser" />
							</b:column>
							<b:column span="3">
							</b:column>
						</b:row>
					</b:panelGrid>
				</b:panel>
			</h:form>
		</ui:define>
	</ui:composition>
</ui:fragment>
