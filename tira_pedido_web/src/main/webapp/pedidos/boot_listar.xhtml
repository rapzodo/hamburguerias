<!DOCTYPE XHTML>

<ui:fragment xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:b="http://bootsfaces.net/ui" xmlns:p="http://primefaces.org/ui">
	<ui:composition template="/principal_template.xhtml">
		<ui:define name="content">
			<h:form>
				<b:container fluid="true" id="resultContainer">
					<b:row>
					<b:column span="2">
					</b:column>
						<b:column span="8">
							<p:tabView value="#{appMBean.categoria}" var="cat" dynamic="true"
								cache="true">
								<p:ajax event="tabChange" listener="#{menuMBean.mudaTab}"
									update="@all " />
								<p:tab title="#{cat}" id="produtosTabs">
									<ui:repeat var="item" value="#{menuMBean.menu}">
										<b:well>
											<b:panelGrid colSpans="3,9">
												<p:outputPanel>
													<b:row>
														<b:column span="9">
															<b:row>
																<h:outputText value="#{item.nome}" style="font-size:2em" />
															</b:row>
															<b:row>
																<h:outputText value="#{item.descricao}"
																	style="font-size:1em" />
															</b:row>
															<b:row>
																<h:outputText value="#{item.preco}"
																	style="font-size:1.5em">
																	<f:convertNumber currencySymbol="R$" type="currency" />
																</h:outputText>
															</b:row>
														</b:column>
														<b:column span="3">
															<b:commandButton value="#{msg.editar}"
																action="#{menuMBean.editar}" iconAwesome="pencil"
																update="@form" ajax="true" size="lg" 
																style="font-size:1.5em; margin:20 auto">
																<f:setPropertyActionListener value="#{item}"
																	target="#{menuMBean.model}" />
															</b:commandButton>
														</b:column>
													</b:row>
												</p:outputPanel>
												</b:panelGrid>
											</b:well>
									</ui:repeat>
								</p:tab>
							</p:tabView>
						</b:column>
						<b:column span="2"></b:column>
					</b:row>
				</b:container>
			</h:form>
		</ui:define>
	</ui:composition>
</ui:fragment>
